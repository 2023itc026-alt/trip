:root{
  --bg:#f6fbff; --card:#ffffff; --accent:#1ea7fd; --muted:#6b7280; --shadow:0 10px 25px rgba(16,24,40,.08);
}
*{box-sizing:border-box}
body{font-family:Inter,Segoe UI,system-ui,Arial,sans-serif;margin:0;background:linear-gradient(180deg,#f6fbff 0%, #ffffff 40%);color:#0f172a}

/* Background clip (animated gradient + optional video) */
.bg-clip{position:fixed;inset:0;z-index:-1;overflow:hidden}
.bg-clip .bg-video{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;opacity:.65}
.bg-clip .bg-gradient{position:absolute;inset:0;background:linear-gradient(120deg,#a3d8ff,#ffe6d3);opacity:.85;mix-blend-mode:screen;filter:blur(20px);transform:scale(1.08);animation:gradientShift 12s linear infinite}
@keyframes gradientShift{0%{filter:blur(18px)}50%{filter:blur(6px)}100%{filter:blur(18px)}}
.plane{position:absolute;right:8%;top:12%;font-size:2rem;opacity:.95;transform:translateX(0);animation:planeFly 10s linear infinite}
@keyframes planeFly{0%{transform:translateX(-30%) translateY(0) rotate(-8deg)}50%{transform:translateX(30%) translateY(-6%) rotate(6deg)}100%{transform:translateX(-30%) translateY(0) rotate(-8deg)}}
.bg-video.hidden{display:none}


.container{max-width:1024px;margin:0 auto;padding:1rem}
.site-header{background:transparent;padding:.75rem 0}
.logo{font-size:1.4rem;margin:0}
.logo span{color:var(--accent)}
nav{display:flex;gap:.5rem}
.btn-primary{background:var(--accent);color:#fff;border:0;padding:.6rem .9rem;border-radius:8px;cursor:pointer}
.btn-outline{background:transparent;border:1px solid rgba(15,23,42,.08);padding:.55rem .75rem;border-radius:8px;cursor:pointer}
.main-grid{display:grid;grid-template-columns:1fr 420px;gap:2rem;padding:2rem 0}
.dashboard-grid{display:grid;grid-template-columns:260px 1fr 360px;gap:1.25rem;padding:1.25rem 0;align-items:start}
.sidebar .card{margin-bottom:1rem}
.topbar{display:flex;gap:.75rem;align-items:center;justify-content:space-between;padding:.6rem}
.topbar input{flex:1;padding:.6rem;border-radius:8px;border:1px solid #e7eef7}
.map{height:420px;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,#e7f7ff,#f8fbff);color:var(--muted)}
.map-inner{font-size:.95rem}
/* ensure leaflet map fills the card */
#map.leaflet-container{height:420px;border-radius:12px;}
.leaflet-container .leaflet-control-attribution{font-size:11px}
.panels{display:grid;grid-template-columns:1fr;gap:1rem;margin-top:1rem}
.points .poi-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:.6rem}
.poi{display:flex;gap:.6rem;align-items:center;border-radius:8px;padding:.5rem;background:#f8fbff}
.poi .thumb{width:56px;height:42px;background:#fff;border-radius:8px;flex-shrink:0}
.current-adventure .meta{margin-top:.6rem;color:var(--muted)}
.summary{position:sticky;top:80px}
.todo-list{list-style:none;padding:0;margin:0;max-height:180px;overflow:auto}
.todo-list li{display:flex;justify-content:space-between;padding:.35rem 0;border-bottom:1px dashed rgba(15,23,42,.04)}
.add-todo{display:flex;gap:.5rem;margin-top:.6rem}
.add-todo input{flex:1}
.small{padding:.6rem}
.card{background:var(--card);padding:1rem;border-radius:12px;box-shadow:var(--shadow)}
@media(max-width:900px){
  .dashboard-grid{grid-template-columns:1fr;}
  .summary{position:static;margin-top:1rem}
}
.planner h3{margin-top:0}
.form-row{margin:.6rem 0}
.form-row label{display:block;font-size:.9rem;color:var(--muted);margin-bottom:.25rem}
.form-row input, .form-row select{width:100%;padding:.55rem .6rem;border:1px solid #e7eef7;border-radius:8px}
.two-col{display:flex;gap:.6rem}
.addons label{display:inline-flex;gap:.4rem;align-items:center;margin-right:8px;color:var(--muted)}
.actions{display:flex;gap:.6rem;justify-content:flex-end}
.result{margin-top:1rem;border-left:4px solid var(--accent)}
.result.hidden{display:none}
.hidden{display:none}
.modal{position:fixed;inset:0;background:rgba(2,6,23,.45);display:flex;align-items:center;justify-content:center;padding:1rem}
.modal.hidden{display:none !important}
.modal-content{width:100%;max-width:420px;position:relative}
.modal-close{position:absolute;right:10px;top:8px;background:transparent;border:0;font-size:1.1rem;cursor:pointer}
.tabs{display:flex;gap:.4rem;margin-bottom:.6rem}
.tabs button{flex:1;padding:.5rem;border-radius:8px;border:1px solid transparent;background:#f4f7fb}
.tabs button.active{background:linear-gradient(90deg,var(--accent),#6fd0ff);color:#fff}
.auth-panel{display:flex;flex-direction:column;gap:.5rem}
.auth-panel input{padding:.6rem;border-radius:8px;border:1px solid #e7eef7}
.auth-actions{display:flex;justify-content:flex-end;margin-top:.4rem}
.site-footer{padding:2rem 0;color:var(--muted)}
@media(max-width:900px){
  .main-grid{grid-template-columns:1fr;}
  nav{margin-top:.6rem}
}
/* subtle micro-interactions */
button:not(.modal-close):hover{transform:translateY(-1px);transition:transform .15s}
input:focus,select:focus{outline:2px solid rgba(30,167,253,.12)}
.card{transition:transform .15s,box-shadow .15s}
.card:hover{transform:translateY(-4px)}